---
// src/pages/index.astro

import Layout       from '@layouts/Layout.astro';
import Header       from '@components/Header.astro';
import Footer       from '@components/Footer.astro';
import Carousel     from '@components/Carousel.astro';
import SearchBar    from '@components/SearchBar.astro';
import FilterButtons from '@components/FilterButtons.astro';
// Importa tu React Island sin extensión
import CatalogoGrid from '@components/CatalogoGrid';

const url    = new URL(Astro.request.url);
const nombre = url.searchParams.get('nombre') || '';
---
<Layout class="overflow-x-hidden">
  <!-- paso el término al header -->
  <Header searchTerm={nombre} />

  <Carousel />
  <SearchBar />
  <FilterButtons />

  {/*
    Hidrata el grid en el cliente,
    pasándole el término de búsqueda
  */}
  <CatalogoGrid client:load searchTerm={nombre} />

  <Footer />
</Layout>
