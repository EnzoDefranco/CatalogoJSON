---
import ProductCard from './ProductCard.astro';
import type { Props as PCProps } from './ProductCard.astro';
import cursosRaw from '../../public/cursos.json';

type Course = PCProps['product'];
const rawList = cursosRaw as any[];
const cursos: Course[] = rawList.map((r) => ({
  idArticulo:      r.idArticulo,
  descripcion:     r.descripcion,
  proveedorNombre: r.proveedorNombre,
  precioLista4:    r.precioLista4,
  stock:           r.stock,
  division:        r.division,
  kilosUnitarios:  r.kilosUnitarios,
  eanUnidad:       r.eanUnidad,
  ultModificacion: r.ultModificacion,
  imageUrl:        r.imageUrl,
  precioL4:       r.precioL4, // Asegúrate de que este campo exista en tus datos
}));
---

<section id="catalogo" class="container mx-auto py-8 px-4">
  <h1 class="text-3xl font-bold mb-6">Catálogo de artículos</h1>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-8 gap-y-12">
    {cursos.map((course) => (
      <ProductCard product={course} />
    ))}
  </div>
</section>
